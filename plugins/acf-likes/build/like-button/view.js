import*as e from"@wordpress/interactivity";var t={d:(e,s)=>{for(var o in s)t.o(s,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:s[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const s=(n={getContext:()=>e.getContext,store:()=>e.store},r={},t.d(r,n),r),{actions:o,state:i}=(0,s.store)("wpe/like-button",{state:{isItemIncluded(){const e=(0,s.getContext)();return i.likedItems.includes(e.post.id)}},actions:{toggleLike(){const e=(0,s.getContext)(),t=i.likedItems.findIndex((t=>t===e.post.id));-1===t?i.likedItems.push(e.post.id):i.likedItems.splice(t,1),i.likesCount=i.likedItems.length,i.isLikedItemsNotEmpty=i.likedItems.length>0,o.updateUserLikes()},*updateUserLikes(){const e=new FormData;e.append("action","submit_like"),e.append("nonce",i.nonce),e.append("likedItems",JSON.stringify(i.likedItems)),e.append("userId",i.userId);try{yield fetch(i.ajaxUrl,{method:"POST",credentials:"same-origin",body:e}).then((e=>e.text()))}catch(e){console.error("Error:",e)}}}});var n,r;